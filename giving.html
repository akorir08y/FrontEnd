<!DOCTYPE html>
<html lang="en">
<head>
  <title>CFMS Web App</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Jquery Script -->
  <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" type="text/css">
  <link href="dashboard.css" rel="stylesheet">
  <link href="css/dark.css" rel="stylesheet">
  <script src="navigate.js"></script>
  <style>	
	html {
	  scroll-behavior: smooth;
	}
  </style>
</head>
<body>


<div id="nav_header">
  <h1 class="header">Welcome As a Member</h1>
</div>

<div id="sub_header">
  <a href="#home">
  <i class="bi bi-door-open" style="margin-right:10px;font-size:18px"></i>
  Personnel Login
  
  </a>
  <a href="#about">
  Logout
  <i class="bi bi-box-arrow-right" style="margin-left:10px;font-size:18px"></i>
  </a>
  <a href="#content" onclick="fetch()">
  Profile
  <i class="bi bi-person-circle" style="margin-left:10px;font-size:18px"></i>
  </a>
  
</div>

<div class="container" data-bs-target="#sub_header" data-bs-spy="scroll" data-bs-offset="0" class="scrollspy-example" tabindex="0">
  <div class="row">
    <div class="col-sm-2">
       <div class="d-flex flex-column flex-shrink-0 p-3 bg-light" id="sidebar">
			<hr>
			<ul class="nav nav-pills flex-column mb-auto">
			  <li>
				<a href="#" class="nav-link link-dark">
				  <i class="bi bi-house-door"  style="margin-right: 20px;"></i>
				  Home
				</a>
			  </li>
			  <li>
				<a href="#" class="nav-link link-dark" onclick="getSettings()">
				  <i class="bi bi-gear"  style="margin-right: 20px;" ></i>
				  Settings
				</a>
			  </li>
			  <li>
				<a href="#" class="nav-link link-dark" onclick="offeringStatement()">
				  <i class="bi bi-clipboard-data" style="margin-right: 20px;"></i>
				  Account Statements
				</a>
			  </li>
			  <li>
				<a href="#" class="nav-link link-dark">
				  <i class="bi bi-cash-stack" style="margin-right: 20px;"></i>
				  Offerings
				</a>
			  </li>
			</ul>
			<hr>
		</div>
    </div>
    <div class="col-sm-10" style="overflow-y:scroll;">
		<div id="contents">
			<div id="member_giving" style="display:none;">
				<div class="col-5">
				<div class="responseDiv"></div>
				<h1 style="text-align:center;margin-top: 10px;">Giving Offerings</h1>
                <hr>
				
						  <label class="label_input" for="flexRadioDefault1">Where to Contribute?</label>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault" id="home_church">
							  <label class="form-check-label" for="flexRadioDefault1">
								Home Church
							  </label>
						  </div>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault" id="host_church">
							  <label class="form-check-label" for="flexRadioDefault2">
								Host Church
							  </label>	
					  </div>
				</div>
				<div class="col-5" style="margin-top:10px;">
						  <label class="label_input" for="flexRadioDefault1">Whom to Contribute For?</label>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault2" id="self">
							  <label class="form-check-label" for="flexRadioDefault1">
								Self
							  </label>
						  </div>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault2" id="others">
							  <label class="form-check-label" for="flexRadioDefault2">
								Others
							  </label>	
						  </div>
				</div>
				<div class="col-5">
						<button type="button" class="button2" onclick="myFunction()" style="width:50%">Proceed</button>
				</div>
			</div>
			
			<div class="col-5" id="church_code_section" style="display:none;">
				<div class="responseDiv"></div>
				<h1 style="text-align:center;margin-top: 10px;">Enter Host Church Code</h1>
				<hr>
				<div class="input-group mb-3">
						<span class="input-group-text" style="background-color: #f1f1f1;"><i class="bi bi-buildings-fill" style="background-color: #f1f1f1;"></i></span>
						<input type="text" class="login_input" id="churchCode" name="churchCode" placeholder="Church Code">
				</div>
				<button type="button" class="button1" style="width:50%" onclick="getChurchCode()">Submit</button>
			</div>
			
			<div class="col-5" id="home_church_self">
				<div class="responseDiv"></div>
				<h1 style="text-align:center;margin-top: 10px;">Giving Offerings</h1>
				<hr>
				<div class="input-group mb-3">
						<span class="input-group-text" style="background-color: #f1f1f1;"><i class="bi bi-buildings-fill" style="background-color: #f1f1f1;"></i></span>
						<input type="text" class="login_input" id="churchName" name="churchCode" placeholder="Cfms" readonly>
				</div>
				<div class="input-group mb-3">
						<span class="input-group-text" style="background-color: #f1f1f1;"><i class="bi bi-person" style="background-color: #f1f1f1;"></i></span>
						<input type="text" class="login_input" id="memberName" name="churchCode" placeholder="Andrew Keitany" readonly>
				</div>
				
				<div class="col-12" style="margin-top:10px;">
						  <label class="label_input" for="flexRadioDefault1">Select Fund Type</label>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault3" id="trust_funds" value="trust_funds">
							  <label class="form-check-label" for="trust_funds">
								Trust Funds
							  </label>
						  </div>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault3" id="non_trust_funds" value="non_trust_funds">
							  <label class="form-check-label" for="non_trust_funds">
								Non Trust Funds
							  </label>	
						  </div>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault3" id="both_funds" value="both_funds">
							  <label class="form-check-label" for="both_funds">
								Both Funds
							  </label>
						  </div>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault3" id="special_trust_funds" value="special_trust_funds">
							  <label class="form-check-label" for="special_trust_funds">
								Special Trust Funds
							  </label>	
						  </div>
						  <button class="button1" onclick="getCheckedAccounts()">Proceed</button>
				</div>
				
			</div>
			
			<div class="col-5" id="home_church_others" style="display:none;">
				<div class="responseDiv"></div>
				<h1 style="text-align:center;margin-top: 10px;">Giving Offerings</h1>
				<hr>
				<div class="input-group mb-3">
						<span class="input-group-text" style="background-color: #f1f1f1;"><i class="bi bi-buildings-fill" style="background-color: #f1f1f1;"></i></span>
						<input type="text" class="login_input" id="churchName1" name="churchCode" placeholder="Cfms" readonly>
				</div>
				
				
				<div class="col-12" style="margin-top:10px;">
						  <label class="label_input" for="flexRadioDefault1">Select Others</label>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault4" id="other_member" onclick="otherMember()">
							  <label class="form-check-label" for="trust_funds">
								Other Member
							  </label>
						  </div>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault4" id="group" onclick="otherMember()">
							  <label class="form-check-label" for="non_trust_funds">
								Group
							  </label>	
						  </div>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault4" id="family" onclick="otherMember()">
							  <label class="form-check-label" for="both_funds">
								Family
							  </label>
						  </div>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault4" id="department" onclick="otherMember()">
							  <label class="form-check-label" for="special_trust_funds">
								Department
							  </label>	
						  </div>
						  <div class="form-check">
							  <input class="form-check-input" type="radio" name="flexRadioDefault4" id="institution" onclick="otherMember()">
							  <label class="form-check-label" for="special_trust_funds">
								Institution
							  </label>	
						  </div>
				</div>
				<div class="col-12" id="identify_member_by" style="margin-top:10px;display:none;">
						<label class="label_input" for="flexRadioDefault1">Identify Member by</label>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="flexRadioDefault5" id="phone_number" onclick="showIdentifier()">
							<label class="form-check-label" for="special_trust_funds">
								Phone Number
							</label>	
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" name="flexRadioDefault5" id="cfms_id" onclick="showIdentifier()">
							<label class="form-check-label" for="special_trust_funds">
								CFMS ID
							</label>	
						</div>
				</div>
				<div class="col-12" id="identify_member_only" style="margin-top:10px;display:none;">
				
						<div id="cfms_id_input" style="display:none">
							<label class="label_input" for="cfms_id_input">Member CFMS ID(Case Specific)</label>
							<div class="input-group mb-3">
								<span class="input-group-text" style="background-color: #f1f1f1;"><i class="bi bi-123" style="background-color: #f1f1f1;"></i></span>
								<input type="text" class="login_input" id="cfms_id" name="churchCode" placeholder="AB1234">
							</div>
						</div>
						<div id="associated_phone_number" style="display:none;">
							<label class="label_input" for="phone1">Associated Phone Number</label>
							<div class="input-group mb-3">
								<span class="input-group-text" style="background-color: #f1f1f1;"><i class="bi bi-buildings-fill" style="background-color: #f1f1f1;"></i></span>
								<input type="text" class="login_input" id="phone1" name="churchCode" placeholder="+254" >
							</div>
						</div>
				</div>
				
			</div>
			
			<div id="trust_funds_div" class="overflow-auto" style="display:none;">
				<div class="responseDiv"></div>
				<div id="offerings">
					<h1 style="text-align:center;margin-top: 10px;">Giving Offerings</h1>
					<hr>
					<div class="input-group mb-3">
							<span class="input-group-text" style="background-color: #f1f1f1;"><i class="bi bi-buildings-fill" style="background-color: #f1f1f1;font-size:16px;"></i></span>
							<input type="text" class="login_input" id="" name="churchCode" placeholder="Cfms" readonly>
					</div>
					<div class="input-group mb-3">
							<span class="input-group-text" style="background-color: #f1f1f1;"><i class="bi bi-person" style="background-color: #f1f1f1;font-size:16px;"></i></span>
							<input type="text" class="login_input" id="memberName2" name="churchCode" placeholder="Andrew Keitany" readonly>
					</div>
				</div>
				
				<div id="test" style="position: sticky;margin-bottom:50px;">
				</div>
				
				
			</div>
			
			
			

			
		</div>

    </div>
  </div>
</div>



<script>

function GetTotal()
{
    /*Footer Calculation*/
    var sum= 0;
    var amts =  document.getElementsByName("amt");


    for (let index = 0; index < amts.length; index++)
    {
        var amt = amts[index].value;
        sum = +(sum) +  +(amt) ;
    }
	
    document.getElementById("FTotal").value = sum;
}

function GetTotal1()
{
    /*Footer Calculation*/
    var sum= 0;
    var amts =  document.getElementsByName("amt");


    for (let index = 0; index < amts.length; index++)
    {
        var amt = amts[index].value;
        sum = +(sum) +  +(amt) ;
    }
	
    document.getElementById("FTotal1").value = sum;
}


function GetTotal2()
{
    /*Footer Calculation*/
    var sum= 0;
    var amts =  document.getElementsByName("amt");


    for (let index = 0; index < amts.length; index++)
    {
        var amt = amts[index].value;
        sum = +(sum) +  +(amt) ;
    }
	
    document.getElementById("FTotal2").value = sum;
}


function GetTotal3()
{
    /*Footer Calculation*/
    var sum= 0;
    var amts =  document.getElementsByName("amt");


    for (let index = 0; index < amts.length; index++)
    {
        var amt = amts[index].value;
        sum = +(sum) +  +(amt) ;
    }
	
    document.getElementById("FTotal3").value = sum;
}


function GetTotal4()
{
    /*Footer Calculation*/
    var sum= 0;
    var amts =  document.getElementsByName("amt");


    for (let index = 0; index < amts.length; index++)
    {
        var amt = amts[index].value;
        sum = +(sum) +  +(amt) ;
    }
	
    document.getElementById("FTotal4").value = sum;
}

function myFunction() {
  var home_church = document.getElementById("home_church");
  var host_church = document.getElementById("host_church");
  var member_giving = document.getElementById("member_giving");
  var home_church_view = document.getElementById("home_church_self");
  var home_church_others = document.getElementById("home_church_others");
  var self = document.getElementById("self");
  var others = document.getElementById("others");
  
  
  var name = "Cfms";  
  var statement = "Is "+ name +" the church you wish to transfer your details to?";
  
  var text = document.getElementById("church_code_section");
  var member_giving = document.getElementById("member_giving");
  
  if (home_church.checked == true && self.checked == true){
	  if(confirm(statement) == true){
		member_giving.style.display = "none";
		home_church_view.style.display = "block";
	  }
  }else if(home_church.checked == true && others.checked == true){
	  if(confirm(statement) == true){
		member_giving.style.display = "none";
		home_church_others.style.display = "block";
	  }      
  }else{
	  text.style.display = "block";
	  member_giving.style.display = "none";
  }
}


function otherMember(){
	var other_member = document.getElementById("other_member");
	var identify_by = document.getElementById("identify_member_by");
	var identify_only = document.getElementById("identify_member_only");
	var associated_phone_number = document.getElementById("associated_phone_number");
	var cfms_id = document.getElementById("cfms_id_input");
	
	if(other_member.checked == true){
		identify_by.style.display = "block";	
		associated_phone_number.style.display = "none";
	}else{
		identify_only.style.display = "block";
		associated_phone_number.style.display = "block";
		identify_by.style.display = "none";
		cfms_id.style.display = "none";
	}	
}



function showIdentifier(){
	var phone_number = document.getElementById("phone_number");
	var cfms_identifier = document.getElementById("cfms_id");
	var identify_only = document.getElementById("identify_member_only");
	var cfms_id = document.getElementById("cfms_id_input");
	var associated_phone_number = document.getElementById("associated_phone_number");
	
	if(phone_number.checked == true){
		identify_only.style.display = "block";
		associated_phone_number.style.display = "block";
		cfms_id.style.display = "none";
	}else if(cfms_identifier.checked == true){
		identify_only.style.display = "block";
		cfms_id.style.display = "block";
		associated_phone_number.style.display = "none";
	}
}


function getChurchCode(){
	var church_code = document.getElementById("churchCode").value;
	var church_others = document.getElementById("home_church_others");
	var church_section = document.getElementById("church_code_section");
	
	if(church_code.length == 5){
		church_section.style.display = "none";
		church_others.style.display = "block";	
	}
}



function getCheckedAccounts(){
	var home_self = document.getElementById("home_church_self");
	var trust_funds_div = document.getElementById("trust_funds_div");
	var trust_funds = document.getElementById("trust_funds");
	var non_trust_funds = document.getElementById("non_trust_funds");
	var both_funds = document.getElementById("both_funds");
	var special_trust_funds = document.getElementById("special_trust_funds");
	
	
	if(trust_funds.checked == true){
		home_self.style.display = "none";
		trust_funds_div.style.display = "block"
		getTrustFundAccounts();
	}else if(non_trust_funds.checked == true){
		home_self.style.display = "none";
		trust_funds_div.style.display = "block"
		getNonTrustFundAccounts();
	}else if(special_trust_funds.checked == true){
		home_self.style.display = "none";
		trust_funds_div.style.display = "block"
		getSpecialTrustFundAccounts();
	}else if(both_funds.checked == true){
		home_self.style.display = "none";
		trust_funds_div.style.display = "block"
		getBothFundAccounts();
	}
	
	
	
}


function getTrustFundAccounts(){
	var data = {
		"phoneOneModeOfPayment": "M-PESA",
		"departmentalAccounts": "[\"Church Meeting  Account::509189\",\"Laptop  Account::508749\",\"Pen Account::512069\",\"Development Account::13825\",\"Kamungei Account::13834\",\"Children Account::351108\",\"Adventurers Account::366035\",\"Lunch Fellowship  Account::472328\",\"Camp Meeting Expenses Account::395883\",\"Laptop Account::513527\"]",
		"churchName": "Cfms",
		"conferenceName": "Cfms Project Kenya Conference",
		"districtName": "Cfms Kenya District",
		"conferenceNumber": "CFMS",
		"otherPhoneNumber": "+254775351396",
		"memberName": "Andrew Keitany",
		"isPessonnel": true,
		"groups": "[\"Moi University::1016\"]",
		"districtNumber": "CFMS1",
		"churchNumber": "29001",
		"otherPhoneModeOfPayment": "Orange Money",
		"membershipNumber": "CN3196",
		"phoneNumber": "254707981971",
		"trustFundAccounts": "[\"Conference Development Account::426234\",\"Thirteenth Sabbath Account::191295\",\"Tithe Account::127989\",\"Camp Meeting Account::127991\",\"Tithe Account::13822\",\"Camp Meeting Account::13824\",\"Combined Offerings Account::13823\",\"Combined Offerings Account::127990\"]",
		"sessionNumber": 11749295,
		"specialTrustFundAccounts": "[\"UEAB Account::457992\",\"Djibouti Mission Account::454913\"]",
		"function": "mobileRequestChurchDetails",
		"availableMeansOfPayment": "[M-PESA]",
		"status": 0
	}
	
	// Trust Fund Accounts
	var request = data.trustFundAccounts;
	request = request.replace('[', '');
	request = request.replace(']', '');
	const departments = request.split(',');
	var html = new String("");
	html += "<h1 style=\"text-align: center;font-size:12px;\">Trust Funds</h1>";
	html += "<hr><table><tbody><tr>";
	html += "<th style=\"padding-right:15px;font-size:12px;border-bottom:2px solid black;\">Contribution Type</th>";				
	html += "<th style=\"padding-left:15px;font-size:12px;border-bottom:2px solid black;\">Amount Offered</th>"
	html += "</tr>"
	
	for (i=0;i < departments.length; i++){
		departments[i] = departments[i].replace('"','');
		departments[i] = departments[i].replace('"','');
		departments[i] = departments[i].split("::")
		html += "<tr>";
		html += "<td style=\"font-size:12px;padding-top:10px;\">"+ departments[i][0] +"</td>";
		html += "<td style=\"padding-left:15px;padding-top:10px;\">";
		html += "<input type=\"number\" class=\"login_input\" name=\"amt\" placeholder=\"\" onfocus=\"GetTotal()\" onkeydown=\"GetTotal()\"  onkeyup=\"GetTotal()\">";
		html += "</td></tr>";
	}
	html += "<tr><td style=\"font-size:12px;\">Total</td>";
	html += "<td style=\"padding-left:15px;padding-top:10px;\"><input type=\"number\" class=\"login_input\" id=\"FTotal\" name=\"churchCode\" placeholder=\"\" readonly></td></tr>";
	html += "<tbody></table>";
	
	$("#test").html(html);
	
}

function getNonTrustFundAccounts(){
	var data = {
		"phoneOneModeOfPayment": "M-PESA",
		"departmentalAccounts": "[\"Church Meeting  Account::509189\",\"Laptop  Account::508749\",\"Pen Account::512069\",\"Development Account::13825\",\"Kamungei Account::13834\",\"Children Account::351108\",\"Adventurers Account::366035\",\"Lunch Fellowship  Account::472328\",\"Camp Meeting Expenses Account::395883\",\"Laptop Account::513527\"]",
		"churchName": "Cfms",
		"conferenceName": "Cfms Project Kenya Conference",
		"districtName": "Cfms Kenya District",
		"conferenceNumber": "CFMS",
		"otherPhoneNumber": "+254775351396",
		"memberName": "Andrew Keitany",
		"isPessonnel": true,
		"groups": "[\"Moi University::1016\"]",
		"districtNumber": "CFMS1",
		"churchNumber": "29001",
		"otherPhoneModeOfPayment": "Orange Money",
		"membershipNumber": "CN3196",
		"phoneNumber": "254707981971",
		"trustFundAccounts": "[\"Conference Development Account::426234\",\"Thirteenth Sabbath Account::191295\",\"Tithe Account::127989\",\"Camp Meeting Account::127991\",\"Tithe Account::13822\",\"Camp Meeting Account::13824\",\"Combined Offerings Account::13823\",\"Combined Offerings Account::127990\"]",
		"sessionNumber": 11749295,
		"specialTrustFundAccounts": "[\"UEAB Account::457992\",\"Djibouti Mission Account::454913\"]",
		"function": "mobileRequestChurchDetails",
		"availableMeansOfPayment": "[M-PESA]",
		"status": 0
	}
	
	// Non Trust Fund Accounts
	var request = data.departmentalAccounts;
	request = request.replace('[', '');
	request = request.replace(']', '');
	const departments = request.split(',');
	var html = new String("");
	html += "<h1 style=\"text-align: center;font-size:12px;\">Non Trust Funds</h1>";
	html += "<hr><table><tbody><tr>";
	html += "<th style=\"padding-right:15px;font-size:12px;border-bottom:2px solid black;\">Contribution Type</th>";				
	html += "<th style=\"padding-left:15px;font-size:12px;border-bottom:2px solid black;\">Amount Offered</th>"
	html += "</tr>"
	
	for (i=0;i < departments.length; i++){
		departments[i] = departments[i].replace('"','');
		departments[i] = departments[i].replace('"','');
		departments[i] = departments[i].split("::")
		html += "<tr>";
		html += "<td style=\"font-size:12px;padding-top:10px;\">"+ departments[i][0] +"</td>";
		html += "<td style=\"padding-left:15px;padding-top:10px;\">";
		html += "<input type=\"number\" class=\"login_input\" name=\"amt\" placeholder=\"\" onfocus=\"GetTotal1()\" onkeydown=\"GetTotal1()\"  onkeyup=\"GetTotal1()\">";
		html += "</td></tr>";
	}
	html += "<tr><td style=\"font-size:12px;\">Total</td>";
	html += "<td style=\"padding-left:15px;padding-top:10px;\"><input type=\"number\" class=\"login_input\" id=\"FTotal1\" name=\"churchCode\" placeholder=\"\" readonly></td></tr>";
	html += "<tbody></table>";
	
	$("#test").html(html);
	
}

function getSpecialTrustFundAccounts(){
	var data = {
		"phoneOneModeOfPayment": "M-PESA",
		"departmentalAccounts": "[\"Church Meeting  Account::509189\",\"Laptop  Account::508749\",\"Pen Account::512069\",\"Development Account::13825\",\"Kamungei Account::13834\",\"Children Account::351108\",\"Adventurers Account::366035\",\"Lunch Fellowship  Account::472328\",\"Camp Meeting Expenses Account::395883\",\"Laptop Account::513527\"]",
		"churchName": "Cfms",
		"conferenceName": "Cfms Project Kenya Conference",
		"districtName": "Cfms Kenya District",
		"conferenceNumber": "CFMS",
		"otherPhoneNumber": "+254775351396",
		"memberName": "Andrew Keitany",
		"isPessonnel": true,
		"groups": "[\"Moi University::1016\"]",
		"districtNumber": "CFMS1",
		"churchNumber": "29001",
		"otherPhoneModeOfPayment": "Orange Money",
		"membershipNumber": "CN3196",
		"phoneNumber": "254707981971",
		"trustFundAccounts": "[\"Conference Development Account::426234\",\"Thirteenth Sabbath Account::191295\",\"Tithe Account::127989\",\"Camp Meeting Account::127991\",\"Tithe Account::13822\",\"Camp Meeting Account::13824\",\"Combined Offerings Account::13823\",\"Combined Offerings Account::127990\"]",
		"sessionNumber": 11749295,
		"specialTrustFundAccounts": "[\"UEAB Account::457992\",\"Djibouti Mission Account::454913\"]",
		"function": "mobileRequestChurchDetails",
		"availableMeansOfPayment": "[M-PESA]",
		"status": 0
	}
	
	// Non Trust Fund Accounts
	var request = data.specialTrustFundAccounts;
	request = request.replace('[', '');
	request = request.replace(']', '');
	const departments = request.split(',');
	var html = new String("");
	html += "<h1 style=\"text-align: center;font-size:12px;\">Special Trust Funds</h1>";
	html += "<hr><table><tbody><tr>";
	html += "<th style=\"padding-right:15px;font-size:12px;border-bottom:2px solid black;\">Contribution Type</th>";				
	html += "<th style=\"padding-left:15px;font-size:12px;border-bottom:2px solid black;\">Amount Offered</th>"
	html += "</tr>"
	
	for (i=0;i < departments.length; i++){
		departments[i] = departments[i].replace('"','');
		departments[i] = departments[i].replace('"','');
		departments[i] = departments[i].split("::")
		html += "<tr>";
		html += "<td style=\"font-size:12px;padding-top:10px;\">"+ departments[i][0] +"</td>";
		html += "<td style=\"padding-left:15px;padding-top:10px;\">";
		html += "<input type=\"number\" class=\"login_input\" name=\"amt\" placeholder=\"\" onfocus=\"GetTotal2()\" onkeydown=\"GetTotal2()\"  onkeyup=\"GetTotal2()\">";
		html += "</td></tr>";
	}
	html += "<tr><td style=\"font-size:12px;\">Total</td>";
	html += "<td style=\"padding-left:15px;padding-top:10px;\"><input type=\"number\" class=\"login_input\" id=\"FTotal2\" name=\"churchCode\" placeholder=\"\" readonly></td></tr>";
	html += "<tbody></table>";
	
	$("#test").html(html);
	
}


function getBothFundAccounts(){
	var data = {
		"phoneOneModeOfPayment": "M-PESA",
		"departmentalAccounts": "[\"Church Meeting  Account::509189\",\"Laptop  Account::508749\",\"Pen Account::512069\",\"Development Account::13825\",\"Kamungei Account::13834\",\"Children Account::351108\",\"Adventurers Account::366035\",\"Lunch Fellowship  Account::472328\",\"Camp Meeting Expenses Account::395883\",\"Laptop Account::513527\"]",
		"churchName": "Cfms",
		"conferenceName": "Cfms Project Kenya Conference",
		"districtName": "Cfms Kenya District",
		"conferenceNumber": "CFMS",
		"otherPhoneNumber": "+254775351396",
		"memberName": "Andrew Keitany",
		"isPessonnel": true,
		"groups": "[\"Moi University::1016\"]",
		"districtNumber": "CFMS1",
		"churchNumber": "29001",
		"otherPhoneModeOfPayment": "Orange Money",
		"membershipNumber": "CN3196",
		"phoneNumber": "254707981971",
		"trustFundAccounts": "[\"Conference Development Account::426234\",\"Thirteenth Sabbath Account::191295\",\"Tithe Account::127989\",\"Camp Meeting Account::127991\",\"Tithe Account::13822\",\"Camp Meeting Account::13824\",\"Combined Offerings Account::13823\",\"Combined Offerings Account::127990\"]",
		"sessionNumber": 11749295,
		"specialTrustFundAccounts": "[\"UEAB Account::457992\",\"Djibouti Mission Account::454913\"]",
		"function": "mobileRequestChurchDetails",
		"availableMeansOfPayment": "[M-PESA]",
		"status": 0
	}
	
	// Non Trust Fund Accounts
	var request = data.departmentalAccounts;
	var request1 = data.trustFundAccounts;
	request = request.replace('[', '');
	request = request.replace(']', '');
	const departments = request.split(',');
	
	// Trust Fund Accounts
	request1 = request1.replace('[', '');
	request1 = request1.replace(']', '');
	const conference = request1.split(',');
	
	var html = new String("");
	html += "<h1 style=\"text-align: center;font-size:12px;\">Trust Funds</h1>";
	html += "<hr><table><tbody><tr>";
	html += "<th style=\"padding-right:15px;font-size:12px;border-bottom:2px solid black;\">Contribution Type</th>";				
	html += "<th style=\"padding-left:15px;font-size:12px;border-bottom:2px solid black;\">Amount Offered</th>"
	html += "</tr>"
	for (i=0;i < conference.length; i++){
		conference[i] = conference[i].replace('"','');
		conference[i] = conference[i].replace('"','');
		conference[i] = conference[i].split("::")
		html += "<tr>";
		html += "<td style=\"font-size:12px;padding-top:10px;\">"+ conference[i][0] +"</td>";
		html += "<td style=\"padding-left:15px;padding-top:10px;\">";
		html += "<input type=\"number\" class=\"login_input\" name=\"amt\" placeholder=\"\" onfocus=\"GetTotal3()\" onkeydown=\"GetTotal3()\" onkeyup=\"GetTotal3()\">";
		html += "</td></tr>";
	}
	html += "<tbody></table>";
	html += "<hr>"
	html += "<h1 style=\"text-align: center;font-size:12px;\">Non Trust Funds</h1>";
	html += "<hr><table><tbody><tr>";
	html += "<th style=\"padding-right:15px;font-size:12px;border-bottom:2px solid black;\">Contribution Type</th>";				
	html += "<th style=\"padding-left:15px;font-size:12px;border-bottom:2px solid black;\">Amount Offered</th>"
	html += "</tr>"
	
	for (i=0;i < departments.length; i++){
		departments[i] = departments[i].replace('"','');
		departments[i] = departments[i].replace('"','');
		departments[i] = departments[i].split("::")
		html += "<tr>";
		html += "<td style=\"font-size:12px;padding-top:10px;\">"+ departments[i][0] +"</td>";
		html += "<td style=\"padding-left:15px;padding-top:10px;\">";
		html += "<input type=\"number\" class=\"login_input\" name=\"amt\" placeholder=\"\" onfocus=\"GetTotal4()\" onkeydown=\"GetTotal4()\"  onkeyup=\"GetTotal4()\">";
		html += "</td></tr>";
	}
	html += "<tr><td style=\"font-size:12px;\">Total</td>";
	html += "<td style=\"padding-left:15px;padding-top:10px;\"><input type=\"number\" class=\"login_input\" id=\"FTotal4\" name=\"churchCode\" placeholder=\"\" readonly></td></tr>";
	html += "<tbody></table>";
	
	$("#test").html(html);
	
}

</script>




           

<div class="mt-5 p-4 bg-dark text-white text-center" id="footer" style="margin-top:50px;">
  <p>Lakeatts Solutions Limited</p>
</div>

</body>
</html>
